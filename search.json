[{"path":[]},{"path":"https://aviezerl.github.io/babynamesIL/articles/babynamesIL.html","id":"distribution-of-names","dir":"Articles","previous_headings":"Israeli baby names","what":"Distribution of names","title":"analysis","text":"start looking distribution total number babies name:  Note x axis log scale.","code":"babynamesIL_totals %>%   mutate(sector = factor(sector, levels = c(\"Jewish\", \"Muslim\", \"Christian\", \"Druze\", \"Other\"))) %>%    ggplot(aes(x = total, color = sex)) +   ggsci::scale_color_aaas() +   geom_density() +   scale_x_log10() +   facet_grid(.~sector) +    theme(axis.text.x = element_text(angle = 90, hjust = 1))"},{"path":"https://aviezerl.github.io/babynamesIL/articles/babynamesIL.html","id":"top-names","dir":"Articles","previous_headings":"Israeli baby names","what":"Top names","title":"analysis","text":"Top 20 names sex sector:","code":"babynamesIL_totals %>%   mutate(sector = factor(sector, levels = c(\"Jewish\", \"Muslim\", \"Christian\", \"Druze\", \"Other\"))) %>%   group_by(sector, sex) %>%   slice_max(order_by = total, n = 20) %>%   arrange(sector, sex, desc(total)) %>%     mutate(name = forcats::fct_inorder(name)) %>%    ggplot(aes(x = name, y = total)) +     geom_col() +     facet_wrap(sector ~ sex, scales = \"free\", ncol = 2) +     ylab(\"total #\") +      xlab(\"\") +      theme(axis.text.x = element_text(angle = 90, hjust = 1))"},{"path":"https://aviezerl.github.io/babynamesIL/articles/babynamesIL.html","id":"clustering","dir":"Articles","previous_headings":"Israeli baby names","what":"Clustering","title":"analysis","text":"create matrix names frequencies time Jewish female babies. Normalize name: Select names least 500 babies: Cluster: Reorder clustering year: Plot matrix: wrap function: can now plot also Male names: sectors:","code":"names_mat <- babynamesIL %>%         filter(sector == \"Jewish\", sex == \"F\") %>%         select(year, name, prop) %>%         spread(year, prop, fill = 0) %>%         column_to_rownames(\"name\") %>%         as.matrix() dim(names_mat) #> [1] 1478   74 mat_norm <- names_mat / rowSums(names_mat) mat_norm_f <- mat_norm[babynamesIL_totals %>% filter(sector == \"Jewish\", sex == \"F\") %>% filter(total >= 500) %>% pull(name), ] dim(mat_norm_f) #> [1] 485  74 hc <- tgs_cor(t(mat_norm_f)) %>% tgs_dist() %>% hclust(method = \"ward.D2\") hc <- as.hclust(reorder(   as.dendrogram(hc),   apply(mat_norm_f, 1, which.max),   agglo.FUN = mean )) text_mat <- babynamesIL %>%   filter(sector == \"Jewish\", sex == \"F\") %>%   tidyr::complete(sector, year, sex, name, fill = list(n = NA)) %>%   mutate(text = paste(name, paste0(\"year: \", year), paste0(\"n: \", n), sep = \"\\n\")) %>%   select(year, name, text) %>%   spread(year, text) %>%   column_to_rownames(\"name\") %>%   as.matrix() plotly::plot_ly(z = mat_norm_f[hc$order, ], y = rownames(mat_norm_f)[hc$order], x = colnames(mat_norm_f), type = \"heatmap\", colors = colorRampPalette(c(\"white\", \"blue\", \"red\", \"yellow\"))(1000), hoverinfo = \"text\", text = text_mat[hc$order, ]) %>%   plotly::layout(yaxis = list(title = \"\"), xaxis = list(title = \"Year\")) cluster_names <- function(sector, sex, min_total = 500, colors = colorRampPalette(c   (\"white\", \"blue\", \"red\", \"yellow\"))(1000)){   names_mat <- babynamesIL %>%     filter(sector == !!sector, sex == !!sex) %>%     select(year, name, prop) %>%     spread(year, prop, fill = 0) %>%     column_to_rownames(\"name\") %>%     as.matrix()   text_mat <- babynamesIL %>%     filter(sector == !!sector, sex == !!sex) %>%     tidyr::complete(sector, year, sex, name, fill = list(n = NA)) %>%      mutate(text = paste(name, paste0(\"year: \", year), paste0(\"n: \", n), sep = \"\\n\")) %>%      select(year, name, text) %>%     spread(year, text) %>%     column_to_rownames(\"name\") %>%     as.matrix()   mat_norm <- names_mat / rowSums(names_mat)   mat_norm_f <- mat_norm[babynamesIL_totals %>%     filter(sector == !!sector, sex == !!sex) %>%     filter(total >= min_total) %>%     pull(name), ]   text_mat <- text_mat[rownames(mat_norm_f), colnames(mat_norm_f)]   hc <- tgs_cor(t(mat_norm_f)) %>%     tgs_dist() %>%     hclust(method = \"ward.D2\")   hc <- as.hclust(reorder(     as.dendrogram(hc),     apply(mat_norm_f, 1, which.max),     agglo.FUN = mean   ))   plotly::plot_ly(z = mat_norm_f[hc$order, ], y = rownames(mat_norm_f)[hc$order], x = colnames(mat_norm_f), type = \"heatmap\", colors = colors, hoverinfo = \"text\", text = text_mat[hc$order, ]) %>%     plotly::layout(yaxis = list(title = \"\"), xaxis = list(title = \"Year\")) } cluster_names(\"Jewish\", \"M\") cluster_names(\"Muslim\", \"M\")"},{"path":"https://aviezerl.github.io/babynamesIL/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Aviezer Lifshitz. Author, maintainer.","code":""},{"path":"https://aviezerl.github.io/babynamesIL/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lifshitz (2022). babynamesIL: Israel Baby Names 1948-2021. https://github.com/aviezerl/babynamesIL, https://aviezerl.github.io/babynamesIL/.","code":"@Manual{,   title = {babynamesIL: Israel Baby Names 1948-2021},   author = {Aviezer Lifshitz},   year = {2022},   note = {https://github.com/aviezerl/babynamesIL, https://aviezerl.github.io/babynamesIL/}, }"},{"path":"https://aviezerl.github.io/babynamesIL/index.html","id":"babynamesil","dir":"","previous_headings":"","what":"Israel Baby Names 1948-2021","title":"Israel Baby Names 1948-2021","text":"babynamesIL contains dataset names given Israeli babies years 1948-2021. data downloaded Israeli Bureau Statistics (LAMAS). names used least 5 children least one gender sector (“Jewish”, “Muslim”, “Christian”, “Druze” “”) included. following objects available: babynamesIL: year 1948 2021, number babies sex sector given name. babynamesIL_totals: dataframe total number babies names per sex sector.","code":""},{"path":"https://aviezerl.github.io/babynamesIL/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Israel Baby Names 1948-2021","text":"","code":"# Install the released version from CRAN install.packages(\"babynamesIL\")  # Install the development version from GitHub devtools::install_github(\"aviezerl/babynamesIL\")"},{"path":"https://aviezerl.github.io/babynamesIL/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Israel Baby Names 1948-2021","text":"Add missing values: Plot trajectory names:","code":"library(babynamesIL)  # yearly data head(babynamesIL) #> # A tibble: 6 x 6 #>   sector year sex name   n       prop #> 1 Jewish 1948   F  שרה 326 0.05002302 #> 2 Jewish 1948   F  רחל 323 0.04956268 #> 3 Jewish 1948   F אסתר 263 0.04035599 #> 4 Jewish 1948   F  חנה 247 0.03790087 #> 5 Jewish 1948   F מרים 190 0.02915452 #> 6 Jewish 1948   F  רות 165 0.02531840  # totals per name head(babynamesIL_totals) #> # A tibble: 6 x 4 #>   sector sex name total #> 1 Jewish   F נועה 47398 #> 2 Jewish   F  רחל 46301 #> 3 Jewish   F  יעל 45329 #> 4 Jewish   F  שרה 45059 #> 5 Jewish   F מיכל 44945 #> 6 Jewish   F אסתר 44657 babynamesIL %>%   tidyr::complete(sector, year, sex, name, fill = list(n = 0, prop = 0)) #> # A tibble: 3,133,900 x 6 #>      sector year sex    name n prop #> 1 Christian 1948   F 'ג'ורג' 0    0 #> 2 Christian 1948   F    אאוס 0    0 #> 3 Christian 1948   F     אבא 0    0 #> 4 Christian 1948   F   אבגיל 0    0 #> 5 Christian 1948   F אבטיסאם 0    0 #> 6 Christian 1948   F     אבי 0    0 #> # ... with 3,133,894 more rows library(ggplot2) library(dplyr) babynamesIL %>%   tidyr::complete(sector, year, sex, name, fill = list(n = 0, prop = 0)) %>%   filter(name == \"נועם\", sector == \"Jewish\") %>%   ggplot(aes(x = year, y = prop, color = sex)) +     geom_line() +     ggsci::scale_color_aaas() +     scale_y_continuous(labels = scales::percent) +     ggtitle(\"נועם הבן מול נועם הבת\") +      theme_classic()"},{"path":"https://aviezerl.github.io/babynamesIL/index.html","id":"source-of-data","dir":"","previous_headings":"","what":"Source of data","title":"Israel Baby Names 1948-2021","text":"Data downloaded : ","code":""},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL.html","id":null,"dir":"Reference","previous_headings":"","what":"Israeli baby names per year. — babynamesIL","title":"Israeli baby names per year. — babynamesIL","text":"Full baby name data provided Israel's Central Bureau Statistics (LAMAS). names least 5 uses (given year) included. Data separated sectors sex, sectors \"Jewish\", \"Muslim\", \"Christian\", \"Druze\" \"\".","code":""},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Israeli baby names per year. — babynamesIL","text":"","code":"babynamesIL"},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Israeli baby names per year. — babynamesIL","text":"data frame six variables: sector, year, sex, name, n prop (n divided total number babies database).","code":""},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Israeli baby names per year. — babynamesIL","text":"Data downloaded : ","code":""},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL_totals.html","id":null,"dir":"Reference","previous_headings":"","what":"Israeli baby names total numbers. — babynamesIL_totals","title":"Israeli baby names total numbers. — babynamesIL_totals","text":"Total number babies per name, sector gender years 1948-2021.","code":""},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL_totals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Israeli baby names total numbers. — babynamesIL_totals","text":"","code":"babynamesIL_totals"},{"path":"https://aviezerl.github.io/babynamesIL/reference/babynamesIL_totals.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Israeli baby names total numbers. — babynamesIL_totals","text":"data frame 4 variables: sector, sex, name, n.","code":""},{"path":"https://aviezerl.github.io/babynamesIL/news/index.html","id":"babynamesil-001","dir":"Changelog","previous_headings":"","what":"babynamesIL 0.0.1","title":"babynamesIL 0.0.1","text":"Initial release.","code":""}]
